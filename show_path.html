<!DOCTYPE html>
<html>
<head>
  <title>Path Viewer</title>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" href="https://unpkg.com/leaflet/dist/leaflet.css" />
  <style>
    #map { height: 80vh; }
    #controls {
      margin-top: 10px;
      display: flex;
      justify-content: space-between;
      align-items: center;
      padding: 0 10px;
    }
    #controls button {
      font-size: 1.5em;
      padding: 0.6em 1.2em;
      border: none;
      border-radius: 8px;
      background-color: #007bff;
      color: white;
      cursor: pointer;
    }
    #sectors {
      font-size: 0.5em;
      padding: 0.6em 1.2em;
      border: none;
      border-radius: 8px;
      background-color: white;
      color: white;
      cursor: pointer;
    }
  </style>
</head>
<body>

<div id="map"></div>
<div id="controls">
  <button id="prevEdge">Zurück</button>
  <span></span> <!-- spacer -->
  <div id="sectors">
    <button id="sector1" onclick="select(0)">Sektor 1</button>
    <button id="sector2" onclick="select(1)">Sektor 2</button>
  </div>
  <span></span> <!-- spacer -->
  <button id="nextEdge">Weiter</button>
</div>

<script src="https://unpkg.com/leaflet/dist/leaflet.js"></script>
<script>
  let nodes = [];
  let edgeIndex = 0;
  let currentNodeMarker;
  let nodeMarkers = [];
  const edges = [];
  let map;
  let directionsLinks = [];

  const path1 = [{"lat": 49.3139084, "lon": 8.4314935, "order": 1}, {"lat": 49.314583, "lon": 8.4305105, "order": 2}, {"lat": 49.3149238, "lon": 8.4307119, "order": 3}, {"lat": 49.3152377, "lon": 8.4312383, "order": 4}, {"lat": 49.3149238, "lon": 8.4307119, "order": 5}, {"lat": 49.3153461, "lon": 8.4300842, "order": 6}, {"lat": 49.3154266, "lon": 8.4299469, "order": 7}, {"lat": 49.3156045, "lon": 8.4296107, "order": 8}, {"lat": 49.3157029, "lon": 8.4295515, "order": 9}, {"lat": 49.3159056, "lon": 8.4296756, "order": 10}, {"lat": 49.3159702, "lon": 8.4297199, "order": 11}, {"lat": 49.3160001, "lon": 8.4297391, "order": 12}, {"lat": 49.3159857, "lon": 8.4297942, "order": 13}, {"lat": 49.3156045, "lon": 8.4296107, "order": 14}, {"lat": 49.3159857, "lon": 8.4297942, "order": 15}, {"lat": 49.3159696, "lon": 8.4298557, "order": 16}, {"lat": 49.3159857, "lon": 8.4297942, "order": 17}, {"lat": 49.3160001, "lon": 8.4297391, "order": 18}, {"lat": 49.3161235, "lon": 8.429818, "order": 19}, {"lat": 49.3162639, "lon": 8.429916, "order": 20}, {"lat": 49.3162989, "lon": 8.4299398, "order": 21}, {"lat": 49.3166633, "lon": 8.4302003, "order": 22}, {"lat": 49.3170374, "lon": 8.4306224, "order": 23}, {"lat": 49.3166633, "lon": 8.4302003, "order": 24}, {"lat": 49.3162989, "lon": 8.4299398, "order": 25}, {"lat": 49.3161198, "lon": 8.4307956, "order": 26}, {"lat": 49.3160928, "lon": 8.4307818, "order": 27}, {"lat": 49.3161198, "lon": 8.4307956, "order": 28}, {"lat": 49.315943, "lon": 8.4317464, "order": 29}, {"lat": 49.3157033, "lon": 8.4320095, "order": 30}, {"lat": 49.315943, "lon": 8.4317464, "order": 31}, {"lat": 49.3159617, "lon": 8.4327635, "order": 32}, {"lat": 49.3150743, "lon": 8.4336872, "order": 33}, {"lat": 49.3159617, "lon": 8.4327635, "order": 34}, {"lat": 49.3161681, "lon": 8.4325838, "order": 35}, {"lat": 49.3163456, "lon": 8.4330723, "order": 36}, {"lat": 49.316101, "lon": 8.4332954, "order": 37}, {"lat": 49.3161303, "lon": 8.4333736, "order": 38}, {"lat": 49.316101, "lon": 8.4332954, "order": 39}, {"lat": 49.3157321, "lon": 8.4336659, "order": 40}, {"lat": 49.3158079, "lon": 8.4338518, "order": 41}, {"lat": 49.3157321, "lon": 8.4336659, "order": 42}, {"lat": 49.3152852, "lon": 8.4341602, "order": 43}, {"lat": 49.3153529, "lon": 8.4343137, "order": 44}, {"lat": 49.3156482, "lon": 8.4349535, "order": 45}, {"lat": 49.3160532, "lon": 8.4347449, "order": 46}, {"lat": 49.3160712, "lon": 8.4348342, "order": 47}, {"lat": 49.3160532, "lon": 8.4347449, "order": 48}, {"lat": 49.3167757, "lon": 8.4343654, "order": 49}, {"lat": 49.3168373, "lon": 8.4343312, "order": 50}, {"lat": 49.3167757, "lon": 8.4343654, "order": 51}, {"lat": 49.3168086, "lon": 8.4346374, "order": 52}, {"lat": 49.3167858, "lon": 8.4355303, "order": 53}, {"lat": 49.3167833, "lon": 8.435569, "order": 54}, {"lat": 49.3167483, "lon": 8.4362113, "order": 55}, {"lat": 49.3167324, "lon": 8.4366962, "order": 56}, {"lat": 49.3173675, "lon": 8.4368455, "order": 57}, {"lat": 49.3174057, "lon": 8.4362592, "order": 58}, {"lat": 49.3172673, "lon": 8.4362408, "order": 59}, {"lat": 49.3174057, "lon": 8.4362592, "order": 60}, {"lat": 49.3174225, "lon": 8.4360686, "order": 61}, {"lat": 49.3177049, "lon": 8.4360913, "order": 62}, {"lat": 49.3177048, "lon": 8.4361083, "order": 63}, {"lat": 49.3178993, "lon": 8.4361123, "order": 64}, {"lat": 49.3177048, "lon": 8.4361083, "order": 65}, {"lat": 49.3177032, "lon": 8.4365674, "order": 66}, {"lat": 49.3180732, "lon": 8.4365874, "order": 67}, {"lat": 49.3177032, "lon": 8.4365674, "order": 68}, {"lat": 49.3176961, "lon": 8.4369075, "order": 69}, {"lat": 49.3176399, "lon": 8.4372249, "order": 70}, {"lat": 49.3176243, "lon": 8.4373057, "order": 71}, {"lat": 49.3175594, "lon": 8.4376887, "order": 72}, {"lat": 49.3176243, "lon": 8.4373057, "order": 73}, {"lat": 49.3175678, "lon": 8.436886, "order": 74}, {"lat": 49.3176961, "lon": 8.4369075, "order": 75}, {"lat": 49.3175678, "lon": 8.436886, "order": 76}, {"lat": 49.3175586, "lon": 8.436886, "order": 77}, {"lat": 49.3175742, "lon": 8.4364072, "order": 78}, {"lat": 49.3175586, "lon": 8.436886, "order": 79}, {"lat": 49.3173675, "lon": 8.4368455, "order": 80}, {"lat": 49.3173432, "lon": 8.4371469, "order": 81}, {"lat": 49.3173277, "lon": 8.4373859, "order": 82}, {"lat": 49.3173181, "lon": 8.437671, "order": 83}, {"lat": 49.3173165, "lon": 8.4377516, "order": 84}, {"lat": 49.3173141, "lon": 8.437977, "order": 85}, {"lat": 49.3163309, "lon": 8.4381069, "order": 86}, {"lat": 49.3163135, "lon": 8.43765, "order": 87}, {"lat": 49.3163309, "lon": 8.4381069, "order": 88}, {"lat": 49.316331, "lon": 8.4381858, "order": 89}, {"lat": 49.3163338, "lon": 8.4382695, "order": 90}, {"lat": 49.3163638, "lon": 8.4385783, "order": 91}, {"lat": 49.3163656, "lon": 8.4386142, "order": 92}, {"lat": 49.3164768, "lon": 8.4392727, "order": 93}, {"lat": 49.3164838, "lon": 8.4393311, "order": 94}, {"lat": 49.3164768, "lon": 8.4392727, "order": 95}, {"lat": 49.3167247, "lon": 8.43922, "order": 96}, {"lat": 49.3169117, "lon": 8.4394247, "order": 97}, {"lat": 49.3167247, "lon": 8.43922, "order": 98}, {"lat": 49.317025, "lon": 8.4391132, "order": 99}, {"lat": 49.3170069, "lon": 8.4395628, "order": 100}, {"lat": 49.317025, "lon": 8.4391132, "order": 101}, {"lat": 49.3172963, "lon": 8.4391161, "order": 102}, {"lat": 49.3172993, "lon": 8.4389648, "order": 103}, {"lat": 49.3173093, "lon": 8.4384499, "order": 104}, {"lat": 49.3173129, "lon": 8.4381722, "order": 105}, {"lat": 49.317024, "lon": 8.4381776, "order": 106}, {"lat": 49.317026, "lon": 8.4383247, "order": 107}, {"lat": 49.3170452, "lon": 8.4383239, "order": 108}, {"lat": 49.317026, "lon": 8.4383247, "order": 109}, {"lat": 49.3166379, "lon": 8.4384616, "order": 110}, {"lat": 49.3163638, "lon": 8.4385783, "order": 111}, {"lat": 49.3166379, "lon": 8.4384616, "order": 112}, {"lat": 49.3166329, "lon": 8.438228, "order": 113}, {"lat": 49.3163338, "lon": 8.4382695, "order": 114}, {"lat": 49.3166329, "lon": 8.438228, "order": 115}, {"lat": 49.317024, "lon": 8.4381776, "order": 116}, {"lat": 49.3173129, "lon": 8.4381722, "order": 117}, {"lat": 49.3173141, "lon": 8.437977, "order": 118}, {"lat": 49.3173165, "lon": 8.4377516, "order": 119}, {"lat": 49.3163135, "lon": 8.43765, "order": 120}, {"lat": 49.3162771, "lon": 8.4372614, "order": 121}, {"lat": 49.3161842, "lon": 8.4366006, "order": 122}, {"lat": 49.3161745, "lon": 8.436554, "order": 123}, {"lat": 49.3161597, "lon": 8.4364833, "order": 124}, {"lat": 49.3167483, "lon": 8.4362113, "order": 125}, {"lat": 49.3167833, "lon": 8.435569, "order": 126}, {"lat": 49.3174453, "lon": 8.4356039, "order": 127}, {"lat": 49.3174225, "lon": 8.4360686, "order": 128}, {"lat": 49.3174453, "lon": 8.4356039, "order": 129}, {"lat": 49.3174603, "lon": 8.4353508, "order": 130}, {"lat": 49.317468, "lon": 8.4351681, "order": 131}, {"lat": 49.3177071, "lon": 8.4351862, "order": 132}, {"lat": 49.3177065, "lon": 8.4353671, "order": 133}, {"lat": 49.3174603, "lon": 8.4353508, "order": 134}, {"lat": 49.317468, "lon": 8.4351681, "order": 135}, {"lat": 49.3174855, "lon": 8.4344085, "order": 136}, {"lat": 49.3168086, "lon": 8.4346374, "order": 137}, {"lat": 49.3174855, "lon": 8.4344085, "order": 138}, {"lat": 49.3174913, "lon": 8.4340788, "order": 139}, {"lat": 49.318219, "lon": 8.4335946, "order": 140}, {"lat": 49.3182781, "lon": 8.4335594, "order": 141}, {"lat": 49.3187207, "lon": 8.4331607, "order": 142}, {"lat": 49.318671, "lon": 8.4327108, "order": 143}, {"lat": 49.3184356, "lon": 8.4327168, "order": 144}, {"lat": 49.3184142, "lon": 8.4325518, "order": 145}, {"lat": 49.3184356, "lon": 8.4327168, "order": 146}, {"lat": 49.3181218, "lon": 8.4328947, "order": 147}, {"lat": 49.3180551, "lon": 8.4329522, "order": 148}, {"lat": 49.3179964, "lon": 8.4327242, "order": 149}, {"lat": 49.3179366, "lon": 8.4323504, "order": 150}, {"lat": 49.3179964, "lon": 8.4327242, "order": 151}, {"lat": 49.3180727, "lon": 8.4326886, "order": 152}, {"lat": 49.3181699, "lon": 8.4326391, "order": 153}, {"lat": 49.3180727, "lon": 8.4326886, "order": 154}, {"lat": 49.3181218, "lon": 8.4328947, "order": 155}, {"lat": 49.3180551, "lon": 8.4329522, "order": 156}, {"lat": 49.318219, "lon": 8.4335946, "order": 157}, {"lat": 49.3174913, "lon": 8.4340788, "order": 158}, {"lat": 49.3168373, "lon": 8.4343312, "order": 159}, {"lat": 49.3167663, "lon": 8.4336166, "order": 160}, {"lat": 49.3166258, "lon": 8.4336165, "order": 161}, {"lat": 49.3167663, "lon": 8.4336166, "order": 162}, {"lat": 49.3167646, "lon": 8.433478, "order": 163}, {"lat": 49.3172535, "lon": 8.4331422, "order": 164}, {"lat": 49.3167646, "lon": 8.433478, "order": 165}, {"lat": 49.3163456, "lon": 8.4330723, "order": 166}, {"lat": 49.3163653, "lon": 8.4331305, "order": 167}, {"lat": 49.3163456, "lon": 8.4330723, "order": 168}, {"lat": 49.3161681, "lon": 8.4325838, "order": 169}, {"lat": 49.3173506, "lon": 8.4319239, "order": 170}, {"lat": 49.3174149, "lon": 8.4318368, "order": 171}, {"lat": 49.3173506, "lon": 8.4319239, "order": 172}, {"lat": 49.3173562, "lon": 8.4319804, "order": 173}, {"lat": 49.3173506, "lon": 8.4319239, "order": 174}, {"lat": 49.3173344, "lon": 8.4317316, "order": 175}, {"lat": 49.31742, "lon": 8.4317117, "order": 176}, {"lat": 49.3174025, "lon": 8.4314916, "order": 177}, {"lat": 49.3173962, "lon": 8.4313628, "order": 178}, {"lat": 49.3174989, "lon": 8.4313559, "order": 179}, {"lat": 49.3175895, "lon": 8.4313541, "order": 180}, {"lat": 49.3177276, "lon": 8.4313213, "order": 181}, {"lat": 49.3175895, "lon": 8.4313541, "order": 182}, {"lat": 49.317586, "lon": 8.4314757, "order": 183}, {"lat": 49.3175814, "lon": 8.4316337, "order": 184}, {"lat": 49.317579, "lon": 8.4317097, "order": 185}, {"lat": 49.3175493, "lon": 8.4323983, "order": 186}, {"lat": 49.317579, "lon": 8.4317097, "order": 187}, {"lat": 49.3174552, "lon": 8.4317078, "order": 188}, {"lat": 49.31742, "lon": 8.4317117, "order": 189}, {"lat": 49.3174552, "lon": 8.4317078, "order": 190}, {"lat": 49.3174526, "lon": 8.4314838, "order": 191}, {"lat": 49.3174998, "lon": 8.4314801, "order": 192}, {"lat": 49.3174989, "lon": 8.4313559, "order": 193}, {"lat": 49.3173962, "lon": 8.4313628, "order": 194}, {"lat": 49.3173009, "lon": 8.4313745, "order": 195}, {"lat": 49.3172751, "lon": 8.4312136, "order": 196}, {"lat": 49.3170374, "lon": 8.4306224, "order": 197}, {"lat": 49.3172751, "lon": 8.4312136, "order": 198}, {"lat": 49.3173009, "lon": 8.4313745, "order": 199}, {"lat": 49.3173147, "lon": 8.4315113, "order": 200}, {"lat": 49.3173344, "lon": 8.4317316, "order": 201}, {"lat": 49.3173147, "lon": 8.4315113, "order": 202}, {"lat": 49.3174025, "lon": 8.4314916, "order": 203}, {"lat": 49.3174526, "lon": 8.4314838, "order": 204}, {"lat": 49.3174998, "lon": 8.4314801, "order": 205}, {"lat": 49.317586, "lon": 8.4314757, "order": 206}, {"lat": 49.3175814, "lon": 8.4316337, "order": 207}, {"lat": 49.3178592, "lon": 8.431658, "order": 208}, {"lat": 49.3177508, "lon": 8.4324216, "order": 209}, {"lat": 49.3178592, "lon": 8.431658, "order": 210}, {"lat": 49.3185642, "lon": 8.4315053, "order": 211}, {"lat": 49.3186313, "lon": 8.4315044, "order": 212}, {"lat": 49.3185921, "lon": 8.4314366, "order": 213}, {"lat": 49.31859, "lon": 8.4313005, "order": 214}, {"lat": 49.3185921, "lon": 8.4314366, "order": 215}, {"lat": 49.318564, "lon": 8.4314398, "order": 216}, {"lat": 49.3177276, "lon": 8.4313213, "order": 217}, {"lat": 49.318564, "lon": 8.4314398, "order": 218}, {"lat": 49.3185642, "lon": 8.4315053, "order": 219}, {"lat": 49.3186313, "lon": 8.4315044, "order": 220}, {"lat": 49.3186838, "lon": 8.4314921, "order": 221}, {"lat": 49.3186765, "lon": 8.4316355, "order": 222}, {"lat": 49.3186413, "lon": 8.4319245, "order": 223}, {"lat": 49.3186352, "lon": 8.4319753, "order": 224}, {"lat": 49.3186719, "lon": 8.4322895, "order": 225}, {"lat": 49.318671, "lon": 8.4327108, "order": 226}, {"lat": 49.3187207, "lon": 8.4331607, "order": 227}, {"lat": 49.3182781, "lon": 8.4335594, "order": 228}, {"lat": 49.3183253, "lon": 8.4339681, "order": 229}, {"lat": 49.3182976, "lon": 8.4339719, "order": 230}, {"lat": 49.3183253, "lon": 8.4339681, "order": 231}, {"lat": 49.3183462, "lon": 8.4342612, "order": 232}, {"lat": 49.3183635, "lon": 8.4346731, "order": 233}, {"lat": 49.3177243, "lon": 8.4346546, "order": 234}, {"lat": 49.3183635, "lon": 8.4346731, "order": 235}, {"lat": 49.3183745, "lon": 8.4349783, "order": 236}, {"lat": 49.3181505, "lon": 8.4349844, "order": 237}, {"lat": 49.3183745, "lon": 8.4349783, "order": 238}, {"lat": 49.3183758, "lon": 8.4350953, "order": 239}, {"lat": 49.3183762, "lon": 8.4352771, "order": 240}, {"lat": 49.3182838, "lon": 8.4353327, "order": 241}, {"lat": 49.3183762, "lon": 8.4352771, "order": 242}, {"lat": 49.3183948, "lon": 8.4355902, "order": 243}, {"lat": 49.3181277, "lon": 8.4356138, "order": 244}, {"lat": 49.3177051, "lon": 8.4356365, "order": 245}, {"lat": 49.3177049, "lon": 8.4360913, "order": 246}, {"lat": 49.3177051, "lon": 8.4356365, "order": 247}, {"lat": 49.3177066, "lon": 8.4354037, "order": 248}, {"lat": 49.3177065, "lon": 8.4353671, "order": 249}, {"lat": 49.3177066, "lon": 8.4354037, "order": 250}, {"lat": 49.3179277, "lon": 8.4352942, "order": 251}, {"lat": 49.3179264, "lon": 8.4351917, "order": 252}, {"lat": 49.3177071, "lon": 8.4351862, "order": 253}, {"lat": 49.3177099, "lon": 8.4350326, "order": 254}, {"lat": 49.3177071, "lon": 8.4351862, "order": 255}, {"lat": 49.3179264, "lon": 8.4351917, "order": 256}, {"lat": 49.3181327, "lon": 8.4351767, "order": 257}, {"lat": 49.3183758, "lon": 8.4350953, "order": 258}, {"lat": 49.3181327, "lon": 8.4351767, "order": 259}, {"lat": 49.3181313, "lon": 8.4353013, "order": 260}, {"lat": 49.3179277, "lon": 8.4352942, "order": 261}, {"lat": 49.3181313, "lon": 8.4353013, "order": 262}, {"lat": 49.3181277, "lon": 8.4356138, "order": 263}, {"lat": 49.3183948, "lon": 8.4355902, "order": 264}, {"lat": 49.3184016, "lon": 8.4356246, "order": 265}, {"lat": 49.3184244, "lon": 8.4357337, "order": 266}, {"lat": 49.3186589, "lon": 8.436367, "order": 267}, {"lat": 49.318783, "lon": 8.4366159, "order": 268}, {"lat": 49.3186491, "lon": 8.4368598, "order": 269}, {"lat": 49.3186589, "lon": 8.436367, "order": 270}, {"lat": 49.3186491, "lon": 8.4368598, "order": 271}, {"lat": 49.3183492, "lon": 8.4373919, "order": 272}, {"lat": 49.318234, "lon": 8.4376794, "order": 273}, {"lat": 49.3176399, "lon": 8.4372249, "order": 274}, {"lat": 49.318234, "lon": 8.4376794, "order": 275}, {"lat": 49.3180601, "lon": 8.4381481, "order": 276}, {"lat": 49.3180404, "lon": 8.4381993, "order": 277}, {"lat": 49.3178323, "lon": 8.4387402, "order": 278}, {"lat": 49.3176661, "lon": 8.4392796, "order": 279}, {"lat": 49.3176187, "lon": 8.4396761, "order": 280}, {"lat": 49.3175271, "lon": 8.4406741, "order": 281}, {"lat": 49.3174597, "lon": 8.4409743, "order": 282}, {"lat": 49.3173201, "lon": 8.4409645, "order": 283}, {"lat": 49.317224, "lon": 8.440952, "order": 284}, {"lat": 49.3172668, "lon": 8.4401192, "order": 285}, {"lat": 49.317224, "lon": 8.440952, "order": 286}, {"lat": 49.3170878, "lon": 8.4409838, "order": 287}, {"lat": 49.316643, "lon": 8.4413169, "order": 288}, {"lat": 49.3166026, "lon": 8.4408328, "order": 289}, {"lat": 49.3165697, "lon": 8.4401083, "order": 290}, {"lat": 49.3164838, "lon": 8.4393311, "order": 291}, {"lat": 49.3165697, "lon": 8.4401083, "order": 292}, {"lat": 49.3172668, "lon": 8.4401192, "order": 293}, {"lat": 49.3172945, "lon": 8.4392326, "order": 294}, {"lat": 49.3172963, "lon": 8.4391161, "order": 295}, {"lat": 49.3172945, "lon": 8.4392326, "order": 296}, {"lat": 49.3176661, "lon": 8.4392796, "order": 297}, {"lat": 49.3178323, "lon": 8.4387402, "order": 298}, {"lat": 49.3174458, "lon": 8.4384632, "order": 299}, {"lat": 49.3173093, "lon": 8.4384499, "order": 300}, {"lat": 49.3172993, "lon": 8.4389648, "order": 301}, {"lat": 49.3174458, "lon": 8.4384632, "order": 302}, {"lat": 49.3175594, "lon": 8.4376887, "order": 303}, {"lat": 49.3180404, "lon": 8.4381993, "order": 304}, {"lat": 49.3175594, "lon": 8.4376887, "order": 305}, {"lat": 49.3174457, "lon": 8.4376776, "order": 306}, {"lat": 49.3173181, "lon": 8.437671, "order": 307}, {"lat": 49.3174457, "lon": 8.4376776, "order": 308}, {"lat": 49.3173277, "lon": 8.4373859, "order": 309}, {"lat": 49.3173432, "lon": 8.4371469, "order": 310}, {"lat": 49.3167183, "lon": 8.4371153, "order": 311}, {"lat": 49.3167324, "lon": 8.4366962, "order": 312}, {"lat": 49.3167183, "lon": 8.4371153, "order": 313}, {"lat": 49.3162771, "lon": 8.4372614, "order": 314}, {"lat": 49.3164587, "lon": 8.4369451, "order": 315}, {"lat": 49.3163886, "lon": 8.4365935, "order": 316}, {"lat": 49.3164587, "lon": 8.4369451, "order": 317}, {"lat": 49.3163886, "lon": 8.4365935, "order": 318}, {"lat": 49.3161745, "lon": 8.436554, "order": 319}, {"lat": 49.3161597, "lon": 8.4364833, "order": 320}, {"lat": 49.3159414, "lon": 8.4357175, "order": 321}, {"lat": 49.3159252, "lon": 8.4356606, "order": 322}, {"lat": 49.3165428, "lon": 8.4355114, "order": 323}, {"lat": 49.3167858, "lon": 8.4355303, "order": 324}, {"lat": 49.3165428, "lon": 8.4355114, "order": 325}, {"lat": 49.3165443, "lon": 8.4353368, "order": 326}, {"lat": 49.3165428, "lon": 8.4355114, "order": 327}, {"lat": 49.3159252, "lon": 8.4356606, "order": 328}, {"lat": 49.3157972, "lon": 8.4353281, "order": 329}, {"lat": 49.3157711, "lon": 8.4352602, "order": 330}, {"lat": 49.3156482, "lon": 8.4349535, "order": 331}, {"lat": 49.3153529, "lon": 8.4343137, "order": 332}, {"lat": 49.3152852, "lon": 8.4341602, "order": 333}, {"lat": 49.3150743, "lon": 8.4336872, "order": 334}, {"lat": 49.3147616, "lon": 8.4330649, "order": 335}, {"lat": 49.3143263, "lon": 8.4322485, "order": 336}, {"lat": 49.3152377, "lon": 8.4312383, "order": 337}, {"lat": 49.3157033, "lon": 8.4320095, "order": 338}, {"lat": 49.315442, "lon": 8.4323105, "order": 339}, {"lat": 49.3152591, "lon": 8.4319305, "order": 340}, {"lat": 49.315442, "lon": 8.4323105, "order": 341}, {"lat": 49.315238, "lon": 8.4325367, "order": 342}, {"lat": 49.3153068, "lon": 8.4326835, "order": 343}, {"lat": 49.3151521, "lon": 8.4328477, "order": 344}, {"lat": 49.3153068, "lon": 8.4326835, "order": 345}, {"lat": 49.3154011, "lon": 8.4325845, "order": 346}, {"lat": 49.3153068, "lon": 8.4326835, "order": 347}, {"lat": 49.315238, "lon": 8.4325367, "order": 348}, {"lat": 49.3147616, "lon": 8.4330649, "order": 349}, {"lat": 49.3143263, "lon": 8.4322485, "order": 350}, {"lat": 49.3139084, "lon": 8.4314935, "order": 351}];

  const path2 = [{"lat": 49.3139084, "lon": 8.4314935, "order": 1}, {"lat": 49.3143263, "lon": 8.4322485, "order": 2}, {"lat": 49.3147616, "lon": 8.4330649, "order": 3}, {"lat": 49.3150743, "lon": 8.4336872, "order": 4}, {"lat": 49.3152852, "lon": 8.4341602, "order": 5}, {"lat": 49.3153529, "lon": 8.4343137, "order": 6}, {"lat": 49.3156482, "lon": 8.4349535, "order": 7}, {"lat": 49.3157711, "lon": 8.4352602, "order": 8}, {"lat": 49.3157972, "lon": 8.4353281, "order": 9}, {"lat": 49.3154735, "lon": 8.4359712, "order": 10}, {"lat": 49.3157972, "lon": 8.4353281, "order": 11}, {"lat": 49.3159252, "lon": 8.4356606, "order": 12}, {"lat": 49.3159414, "lon": 8.4357175, "order": 13}, {"lat": 49.3157299, "lon": 8.4360208, "order": 14}, {"lat": 49.3159414, "lon": 8.4357175, "order": 15}, {"lat": 49.3161597, "lon": 8.4364833, "order": 16}, {"lat": 49.3161745, "lon": 8.436554, "order": 17}, {"lat": 49.3161842, "lon": 8.4366006, "order": 18}, {"lat": 49.3155862, "lon": 8.4367796, "order": 19}, {"lat": 49.3157905, "lon": 8.4375658, "order": 20}, {"lat": 49.315127, "lon": 8.438062, "order": 21}, {"lat": 49.3157905, "lon": 8.4375658, "order": 22}, {"lat": 49.3162771, "lon": 8.4372614, "order": 23}, {"lat": 49.3161842, "lon": 8.4366006, "order": 24}, {"lat": 49.3162771, "lon": 8.4372614, "order": 25}, {"lat": 49.3163135, "lon": 8.43765, "order": 26}, {"lat": 49.3163309, "lon": 8.4381069, "order": 27}, {"lat": 49.316331, "lon": 8.4381858, "order": 28}, {"lat": 49.3163338, "lon": 8.4382695, "order": 29}, {"lat": 49.316331, "lon": 8.4381858, "order": 30}, {"lat": 49.3160812, "lon": 8.4382129, "order": 31}, {"lat": 49.3161761, "lon": 8.4383079, "order": 32}, {"lat": 49.3160812, "lon": 8.4382129, "order": 33}, {"lat": 49.3160204, "lon": 8.4382207, "order": 34}, {"lat": 49.3160219, "lon": 8.4382518, "order": 35}, {"lat": 49.3160204, "lon": 8.4382207, "order": 36}, {"lat": 49.3150393, "lon": 8.4391776, "order": 37}, {"lat": 49.3146852, "lon": 8.4397201, "order": 38}, {"lat": 49.3143494, "lon": 8.4392919, "order": 39}, {"lat": 49.3147187, "lon": 8.43863, "order": 40}, {"lat": 49.3148131, "lon": 8.4384767, "order": 41}, {"lat": 49.315127, "lon": 8.438062, "order": 42}, {"lat": 49.3149101, "lon": 8.4373153, "order": 43}, {"lat": 49.315027, "lon": 8.4372789, "order": 44}, {"lat": 49.3150084, "lon": 8.4370984, "order": 45}, {"lat": 49.315027, "lon": 8.4372789, "order": 46}, {"lat": 49.315094, "lon": 8.4372581, "order": 47}, {"lat": 49.3151204, "lon": 8.4371021, "order": 48}, {"lat": 49.3155324, "lon": 8.4367725, "order": 49}, {"lat": 49.3155862, "lon": 8.4367796, "order": 50}, {"lat": 49.3155324, "lon": 8.4367725, "order": 51}, {"lat": 49.3155257, "lon": 8.4368459, "order": 52}, {"lat": 49.3152025, "lon": 8.4368979, "order": 53}, {"lat": 49.3155257, "lon": 8.4368459, "order": 54}, {"lat": 49.3152602, "lon": 8.4370341, "order": 55}, {"lat": 49.315094, "lon": 8.4372581, "order": 56}, {"lat": 49.3152602, "lon": 8.4370341, "order": 57}, {"lat": 49.3151204, "lon": 8.4371021, "order": 58}, {"lat": 49.3155324, "lon": 8.4367725, "order": 59}, {"lat": 49.3154937, "lon": 8.436544, "order": 60}, {"lat": 49.3154811, "lon": 8.4363814, "order": 61}, {"lat": 49.3154937, "lon": 8.436544, "order": 62}, {"lat": 49.3154811, "lon": 8.4363814, "order": 63}, {"lat": 49.3154106, "lon": 8.4360096, "order": 64}, {"lat": 49.3153054, "lon": 8.4360545, "order": 65}, {"lat": 49.3154106, "lon": 8.4360096, "order": 66}, {"lat": 49.3153177, "lon": 8.4355898, "order": 67}, {"lat": 49.3157711, "lon": 8.4352602, "order": 68}, {"lat": 49.3153177, "lon": 8.4355898, "order": 69}, {"lat": 49.315025, "lon": 8.4349378, "order": 70}, {"lat": 49.3153529, "lon": 8.4343137, "order": 71}, {"lat": 49.315025, "lon": 8.4349378, "order": 72}, {"lat": 49.3148034, "lon": 8.4354899, "order": 73}, {"lat": 49.314642, "lon": 8.4352601, "order": 74}, {"lat": 49.3148034, "lon": 8.4354899, "order": 75}, {"lat": 49.3146733, "lon": 8.4358315, "order": 76}, {"lat": 49.3146479, "lon": 8.4359008, "order": 77}, {"lat": 49.3149101, "lon": 8.4373153, "order": 78}, {"lat": 49.3146479, "lon": 8.4359008, "order": 79}, {"lat": 49.3144131, "lon": 8.436404, "order": 80}, {"lat": 49.3140477, "lon": 8.4358833, "order": 81}, {"lat": 49.3144131, "lon": 8.436404, "order": 82}, {"lat": 49.3142209, "lon": 8.4368161, "order": 83}, {"lat": 49.3141908, "lon": 8.4370707, "order": 84}, {"lat": 49.3142209, "lon": 8.4368161, "order": 85}, {"lat": 49.3137377, "lon": 8.4370815, "order": 86}, {"lat": 49.3137802, "lon": 8.4366779, "order": 87}, {"lat": 49.3137377, "lon": 8.4370815, "order": 88}, {"lat": 49.3136934, "lon": 8.4371064, "order": 89}, {"lat": 49.3135667, "lon": 8.4366585, "order": 90}, {"lat": 49.3136934, "lon": 8.4371064, "order": 91}, {"lat": 49.3127977, "lon": 8.4376452, "order": 92}, {"lat": 49.3125727, "lon": 8.4377036, "order": 93}, {"lat": 49.3127977, "lon": 8.4376452, "order": 94}, {"lat": 49.3124416, "lon": 8.4371117, "order": 95}, {"lat": 49.3122993, "lon": 8.437318, "order": 96}, {"lat": 49.3125727, "lon": 8.4377036, "order": 97}, {"lat": 49.3124155, "lon": 8.4378732, "order": 98}, {"lat": 49.3119499, "lon": 8.4381539, "order": 99}, {"lat": 49.3121438, "lon": 8.4388288, "order": 100}, {"lat": 49.3126043, "lon": 8.4385628, "order": 101}, {"lat": 49.3121438, "lon": 8.4388288, "order": 102}, {"lat": 49.3121987, "lon": 8.4390524, "order": 103}, {"lat": 49.3127121, "lon": 8.4390018, "order": 104}, {"lat": 49.3126554, "lon": 8.4387711, "order": 105}, {"lat": 49.3130217, "lon": 8.4385455, "order": 106}, {"lat": 49.3131701, "lon": 8.4384478, "order": 107}, {"lat": 49.3134232, "lon": 8.4388086, "order": 108}, {"lat": 49.3140478, "lon": 8.4397008, "order": 109}, {"lat": 49.3143494, "lon": 8.4392919, "order": 110}, {"lat": 49.3141908, "lon": 8.4370707, "order": 111}, {"lat": 49.3148131, "lon": 8.4384767, "order": 112}, {"lat": 49.3147187, "lon": 8.43863, "order": 113}, {"lat": 49.3150393, "lon": 8.4391776, "order": 114}, {"lat": 49.3146852, "lon": 8.4397201, "order": 115}, {"lat": 49.3150726, "lon": 8.4402528, "order": 116}, {"lat": 49.3155073, "lon": 8.4408261, "order": 117}, {"lat": 49.3150726, "lon": 8.4402528, "order": 118}, {"lat": 49.3155897, "lon": 8.4396269, "order": 119}, {"lat": 49.315747, "lon": 8.4403894, "order": 120}, {"lat": 49.3155897, "lon": 8.4396269, "order": 121}, {"lat": 49.3161182, "lon": 8.4389138, "order": 122}, {"lat": 49.3161772, "lon": 8.4392656, "order": 123}, {"lat": 49.3161182, "lon": 8.4389138, "order": 124}, {"lat": 49.3163656, "lon": 8.4386142, "order": 125}, {"lat": 49.3163638, "lon": 8.4385783, "order": 126}, {"lat": 49.3163338, "lon": 8.4382695, "order": 127}, {"lat": 49.3163638, "lon": 8.4385783, "order": 128}, {"lat": 49.3163656, "lon": 8.4386142, "order": 129}, {"lat": 49.3164768, "lon": 8.4392727, "order": 130}, {"lat": 49.3164838, "lon": 8.4393311, "order": 131}, {"lat": 49.3163304, "lon": 8.4393736, "order": 132}, {"lat": 49.3162637, "lon": 8.4394879, "order": 133}, {"lat": 49.3162678, "lon": 8.4395177, "order": 134}, {"lat": 49.3163842, "lon": 8.4394806, "order": 135}, {"lat": 49.3162678, "lon": 8.4395177, "order": 136}, {"lat": 49.3162764, "lon": 8.4395811, "order": 137}, {"lat": 49.3162678, "lon": 8.4395177, "order": 138}, {"lat": 49.3162637, "lon": 8.4394879, "order": 139}, {"lat": 49.3162157, "lon": 8.4397217, "order": 140}, {"lat": 49.316222, "lon": 8.4397747, "order": 141}, {"lat": 49.3160782, "lon": 8.439815, "order": 142}, {"lat": 49.316222, "lon": 8.4397747, "order": 143}, {"lat": 49.3162157, "lon": 8.4397217, "order": 144}, {"lat": 49.3162637, "lon": 8.4394879, "order": 145}, {"lat": 49.3163304, "lon": 8.4393736, "order": 146}, {"lat": 49.3163179, "lon": 8.4392817, "order": 147}, {"lat": 49.3163304, "lon": 8.4393736, "order": 148}, {"lat": 49.3164838, "lon": 8.4393311, "order": 149}, {"lat": 49.3165697, "lon": 8.4401083, "order": 150}, {"lat": 49.3166026, "lon": 8.4408328, "order": 151}, {"lat": 49.316643, "lon": 8.4413169, "order": 152}, {"lat": 49.3164165, "lon": 8.4413652, "order": 153}, {"lat": 49.3162343, "lon": 8.4414419, "order": 154}, {"lat": 49.3160641, "lon": 8.4415215, "order": 155}, {"lat": 49.3160678, "lon": 8.4415373, "order": 156}, {"lat": 49.3159848, "lon": 8.4416746, "order": 157}, {"lat": 49.3159322, "lon": 8.4416062, "order": 158}, {"lat": 49.3153106, "lon": 8.442099, "order": 159}, {"lat": 49.3159322, "lon": 8.4416062, "order": 160}, {"lat": 49.3159452, "lon": 8.4414949, "order": 161}, {"lat": 49.3160641, "lon": 8.4415215, "order": 162}, {"lat": 49.3159452, "lon": 8.4414949, "order": 163}, {"lat": 49.3155321, "lon": 8.4408616, "order": 164}, {"lat": 49.3166026, "lon": 8.4408328, "order": 165}, {"lat": 49.3155321, "lon": 8.4408616, "order": 166}, {"lat": 49.3155073, "lon": 8.4408261, "order": 167}, {"lat": 49.3148939, "lon": 8.4415991, "order": 168}, {"lat": 49.3144976, "lon": 8.4407272, "order": 169}, {"lat": 49.3127915, "lon": 8.4409219, "order": 170}, {"lat": 49.3122962, "lon": 8.4413597, "order": 171}, {"lat": 49.311929, "lon": 8.441467, "order": 172}, {"lat": 49.3122962, "lon": 8.4413597, "order": 173}, {"lat": 49.3128684, "lon": 8.4418572, "order": 174}, {"lat": 49.3133458, "lon": 8.442277, "order": 175}, {"lat": 49.3133818, "lon": 8.4423725, "order": 176}, {"lat": 49.3133458, "lon": 8.442277, "order": 177}, {"lat": 49.3134112, "lon": 8.4422272, "order": 178}, {"lat": 49.3142459, "lon": 8.4422893, "order": 179}, {"lat": 49.3145009, "lon": 8.4423244, "order": 180}, {"lat": 49.3142459, "lon": 8.4422893, "order": 181}, {"lat": 49.3134112, "lon": 8.4422272, "order": 182}, {"lat": 49.3133458, "lon": 8.442277, "order": 183}, {"lat": 49.3128684, "lon": 8.4418572, "order": 184}, {"lat": 49.3122962, "lon": 8.4413597, "order": 185}, {"lat": 49.3127915, "lon": 8.4409219, "order": 186}, {"lat": 49.3144976, "lon": 8.4407272, "order": 187}, {"lat": 49.3140478, "lon": 8.4397008, "order": 188}, {"lat": 49.3127915, "lon": 8.4409219, "order": 189}, {"lat": 49.3124498, "lon": 8.4399646, "order": 190}, {"lat": 49.3127952, "lon": 8.4393382, "order": 191}, {"lat": 49.3127121, "lon": 8.4390018, "order": 192}, {"lat": 49.3121987, "lon": 8.4390524, "order": 193}, {"lat": 49.3126554, "lon": 8.4387711, "order": 194}, {"lat": 49.3126043, "lon": 8.4385628, "order": 195}, {"lat": 49.3128765, "lon": 8.4383938, "order": 196}, {"lat": 49.3130217, "lon": 8.4385455, "order": 197}, {"lat": 49.3128765, "lon": 8.4383938, "order": 198}, {"lat": 49.3127958, "lon": 8.4379293, "order": 199}, {"lat": 49.3125727, "lon": 8.4377036, "order": 200}, {"lat": 49.3127958, "lon": 8.4379293, "order": 201}, {"lat": 49.3131701, "lon": 8.4384478, "order": 202}, {"lat": 49.3134232, "lon": 8.4388086, "order": 203}, {"lat": 49.3131009, "lon": 8.4391582, "order": 204}, {"lat": 49.3130626, "lon": 8.439006, "order": 205}, {"lat": 49.3131009, "lon": 8.4391582, "order": 206}, {"lat": 49.3132089, "lon": 8.4396538, "order": 207}, {"lat": 49.3131009, "lon": 8.4391582, "order": 208}, {"lat": 49.3129553, "lon": 8.4392439, "order": 209}, {"lat": 49.3129189, "lon": 8.4390908, "order": 210}, {"lat": 49.3129553, "lon": 8.4392439, "order": 211}, {"lat": 49.3127952, "lon": 8.4393382, "order": 212}, {"lat": 49.3124498, "lon": 8.4399646, "order": 213}, {"lat": 49.3122852, "lon": 8.440062, "order": 214}, {"lat": 49.3120399, "lon": 8.4402434, "order": 215}, {"lat": 49.3122852, "lon": 8.440062, "order": 216}, {"lat": 49.3118339, "lon": 8.4382372, "order": 217}, {"lat": 49.3116046, "lon": 8.4384855, "order": 218}, {"lat": 49.3115333, "lon": 8.4386023, "order": 219}, {"lat": 49.3112041, "lon": 8.4391997, "order": 220}, {"lat": 49.3111616, "lon": 8.4393475, "order": 221}, {"lat": 49.3112041, "lon": 8.4391997, "order": 222}, {"lat": 49.3115333, "lon": 8.4386023, "order": 223}, {"lat": 49.3120399, "lon": 8.4402434, "order": 224}, {"lat": 49.3115834, "lon": 8.440762, "order": 225}, {"lat": 49.3115523, "lon": 8.4407973, "order": 226}, {"lat": 49.3115834, "lon": 8.440762, "order": 227}, {"lat": 49.3112588, "lon": 8.4397638, "order": 228}, {"lat": 49.3112041, "lon": 8.4391997, "order": 229}, {"lat": 49.3109961, "lon": 8.4392347, "order": 230}, {"lat": 49.3109422, "lon": 8.439289, "order": 231}, {"lat": 49.3107735, "lon": 8.4389108, "order": 232}, {"lat": 49.3109422, "lon": 8.439289, "order": 233}, {"lat": 49.3110009, "lon": 8.4394004, "order": 234}, {"lat": 49.3109422, "lon": 8.439289, "order": 235}, {"lat": 49.3108863, "lon": 8.4393454, "order": 236}, {"lat": 49.3109422, "lon": 8.439289, "order": 237}, {"lat": 49.3109961, "lon": 8.4392347, "order": 238}, {"lat": 49.3107637, "lon": 8.4387359, "order": 239}, {"lat": 49.3113338, "lon": 8.4381143, "order": 240}, {"lat": 49.311059, "lon": 8.4377534, "order": 241}, {"lat": 49.3107968, "lon": 8.4373549, "order": 242}, {"lat": 49.3103541, "lon": 8.4378594, "order": 243}, {"lat": 49.3103031, "lon": 8.4379175, "order": 244}, {"lat": 49.3103541, "lon": 8.4378594, "order": 245}, {"lat": 49.3105594, "lon": 8.4383006, "order": 246}, {"lat": 49.311059, "lon": 8.4377534, "order": 247}, {"lat": 49.3105594, "lon": 8.4383006, "order": 248}, {"lat": 49.3105084, "lon": 8.4383565, "order": 249}, {"lat": 49.3105594, "lon": 8.4383006, "order": 250}, {"lat": 49.3107637, "lon": 8.4387359, "order": 251}, {"lat": 49.3107187, "lon": 8.438785, "order": 252}, {"lat": 49.3107637, "lon": 8.4387359, "order": 253}, {"lat": 49.3113338, "lon": 8.4381143, "order": 254}, {"lat": 49.3116046, "lon": 8.4384855, "order": 255}, {"lat": 49.3118339, "lon": 8.4382372, "order": 256}, {"lat": 49.3119499, "lon": 8.4381539, "order": 257}, {"lat": 49.3124155, "lon": 8.4378732, "order": 258}, {"lat": 49.3122648, "lon": 8.4372751, "order": 259}, {"lat": 49.3122993, "lon": 8.437318, "order": 260}, {"lat": 49.3122648, "lon": 8.4372751, "order": 261}, {"lat": 49.3118521, "lon": 8.4367805, "order": 262}, {"lat": 49.3117121, "lon": 8.4368285, "order": 263}, {"lat": 49.3118521, "lon": 8.4367805, "order": 264}, {"lat": 49.3118736, "lon": 8.4366977, "order": 265}, {"lat": 49.3122666, "lon": 8.4361332, "order": 266}, {"lat": 49.3122841, "lon": 8.436109, "order": 267}, {"lat": 49.3123131, "lon": 8.4360687, "order": 268}, {"lat": 49.3126772, "lon": 8.4353876, "order": 269}, {"lat": 49.3129496, "lon": 8.4343962, "order": 270}, {"lat": 49.3126772, "lon": 8.4353876, "order": 271}, {"lat": 49.3129714, "lon": 8.4356912, "order": 272}, {"lat": 49.3131653, "lon": 8.4351465, "order": 273}, {"lat": 49.3129714, "lon": 8.4356912, "order": 274}, {"lat": 49.3132125, "lon": 8.436067, "order": 275}, {"lat": 49.3124416, "lon": 8.4371117, "order": 276}, {"lat": 49.3132125, "lon": 8.436067, "order": 277}, {"lat": 49.3134612, "lon": 8.4357357, "order": 278}, {"lat": 49.3134823, "lon": 8.4357887, "order": 279}, {"lat": 49.3134612, "lon": 8.4357357, "order": 280}, {"lat": 49.3134895, "lon": 8.4356992, "order": 281}, {"lat": 49.3135232, "lon": 8.4357866, "order": 282}, {"lat": 49.3134895, "lon": 8.4356992, "order": 283}, {"lat": 49.3135138, "lon": 8.4356669, "order": 284}, {"lat": 49.3135415, "lon": 8.4357336, "order": 285}, {"lat": 49.3135138, "lon": 8.4356669, "order": 286}, {"lat": 49.3141407, "lon": 8.4348633, "order": 287}, {"lat": 49.314531, "lon": 8.4355827, "order": 288}, {"lat": 49.3146733, "lon": 8.4358315, "order": 289}, {"lat": 49.314531, "lon": 8.4355827, "order": 290}, {"lat": 49.3145867, "lon": 8.435495, "order": 291}, {"lat": 49.3146013, "lon": 8.4354663, "order": 292}, {"lat": 49.314597, "lon": 8.4354442, "order": 293}, {"lat": 49.3145674, "lon": 8.435413, "order": 294}, {"lat": 49.3145867, "lon": 8.435495, "order": 295}, {"lat": 49.3146537, "lon": 8.4354905, "order": 296}, {"lat": 49.3146607, "lon": 8.4354737, "order": 297}, {"lat": 49.3146658, "lon": 8.4354784, "order": 298}, {"lat": 49.3146607, "lon": 8.4354737, "order": 299}, {"lat": 49.3146275, "lon": 8.4354028, "order": 300}, {"lat": 49.3146326, "lon": 8.4353921, "order": 301}, {"lat": 49.3146275, "lon": 8.4354028, "order": 302}, {"lat": 49.3145674, "lon": 8.435413, "order": 303}, {"lat": 49.3146275, "lon": 8.4354028, "order": 304}, {"lat": 49.3146145, "lon": 8.4354389, "order": 305}, {"lat": 49.314597, "lon": 8.4354442, "order": 306}, {"lat": 49.3146145, "lon": 8.4354389, "order": 307}, {"lat": 49.3146178, "lon": 8.4354561, "order": 308}, {"lat": 49.3146013, "lon": 8.4354663, "order": 309}, {"lat": 49.3146178, "lon": 8.4354561, "order": 310}, {"lat": 49.3146537, "lon": 8.4354905, "order": 311}, {"lat": 49.3145867, "lon": 8.435495, "order": 312}, {"lat": 49.314531, "lon": 8.4355827, "order": 313}, {"lat": 49.3141407, "lon": 8.4348633, "order": 314}, {"lat": 49.3144421, "lon": 8.4344858, "order": 315}, {"lat": 49.3150743, "lon": 8.4336872, "order": 316}, {"lat": 49.3144421, "lon": 8.4344858, "order": 317}, {"lat": 49.3136113, "lon": 8.4332475, "order": 318}, {"lat": 49.3133166, "lon": 8.4334253, "order": 319}, {"lat": 49.313153, "lon": 8.4335297, "order": 320}, {"lat": 49.3131024, "lon": 8.4337436, "order": 321}, {"lat": 49.3129496, "lon": 8.4343962, "order": 322}, {"lat": 49.3131024, "lon": 8.4337436, "order": 323}, {"lat": 49.313153, "lon": 8.4335297, "order": 324}, {"lat": 49.3133185, "lon": 8.4328223, "order": 325}, {"lat": 49.3135041, "lon": 8.4330876, "order": 326}, {"lat": 49.3133166, "lon": 8.4334253, "order": 327}, {"lat": 49.3136113, "lon": 8.4332475, "order": 328}, {"lat": 49.3135041, "lon": 8.4330876, "order": 329}, {"lat": 49.3133185, "lon": 8.4328223, "order": 330}, {"lat": 49.3139084, "lon": 8.4314935, "order": 331}];

  const paths = [];
  paths.push(path1);
  paths.push(path2);

  // fetch('http://localhost:8000/path.geojson')
  //   .then(response => response.json())
  //   .then(data => {
  //     nodes = data.sort((a, b) => a.order - b.order);
  //     initMap();
  //     createGoogleDirectionsLinks();
  //   })
  //   .catch(err => {
  //     console.error('Failed to load nodes.json:', err);
  //     alert('Failed to load path data.');
  //   });

  //nodes = path1.sort((a, b) => a.order - b.order);
  nodes = path1.sort((a, b) => a.order - b.order);
  initMap();

  //createGoogleDirectionsLinks();

  function select(index) {
    console.log('select', index);
    nodes = paths[index];
    resetMap();
    map.setView([nodes[0].lat, nodes[0].lon], 15);
    drawMarkers();
  }

  function drawMarkers() {
    // Draw all nodes as small blue dots
    nodes.forEach(node => {
      const marker = L.circleMarker([node.lat, node.lon], {
        radius: 2,
        color: 'blue',
        fillOpacity: 1
      }).addTo(map);
      nodeMarkers.push(marker);
    });

    // Add the green "current node" marker
    currentNodeMarker = L.circleMarker([nodes[0].lat, nodes[0].lon], {
      radius: 10,
      color: 'green',
      fillColor: 'green',
      fillOpacity: 1
    }).addTo(map);
  }

  function initMap() {
    map = L.map('map').setView([nodes[0].lat, nodes[0].lon], 15);

    L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
      attribution: '© OpenStreetMap contributors'
    }).addTo(map);

    drawMarkers();

    // Set up buttons
    document.getElementById('nextEdge').addEventListener('click', showNextEdge);
    document.getElementById('prevEdge').addEventListener('click', showPrevEdge);
  }

  function resetMap() {
    // Remove all drawn edges from map
    edges.forEach(edge => map.removeLayer(edge));
    edges.length = 0;

    // Remove all node markers
    nodeMarkers.forEach(marker => map.removeLayer(marker));
    nodeMarkers.length = 0;

    // Reset current node marker
    edgeIndex = 0;
    currentNodeMarker.setLatLng([nodes[0].lat, nodes[0].lon]);
  }

  function chunkArray(arr, chunkSize = 25) {
    const result = [];
    for (let i = 0; i < arr.length; i += chunkSize) {
      result.push(arr.slice(i, i + chunkSize));
    }
    return result;
  }

  function createGoogleDirectionsLinks() {
    if (nodes.length < 2) return;

    const chunkedNodes = chunkArray(nodes);

    const baseUrl = 'https://www.google.com/maps/dir/';
    let directionsIndex = 0;

    for (let i in chunkedNodes) {
      const path = chunkedNodes[i].map(n => `${n.lat},${n.lon}`).join('/');
      const fullUrl = baseUrl + path;
      directionsLinks.push(fullUrl);
    }

    const button = document.createElement('input');
    button.type = 'button';
    button.value = 'Next directions';
    button.onclick = (() => {
      if (directionsIndex < directionsLinks.length) {
        const url = directionsLinks[directionsIndex];
        window.open(url);
        directionsIndex++;
      }
    });
    document.getElementById('controls').appendChild(button);
  }

  function showPrevEdge() {
    if (edgeIndex > 0) {
      edgeIndex--;

      // Remove the last edge from the map and the array
      const lastEdge = edges.pop();
      map.removeLayer(lastEdge);

      // Move the marker back to the previous node
      const prevNode = nodes[edgeIndex];
      currentNodeMarker.setLatLng([prevNode.lat, prevNode.lon]);
    } else {
      alert('Already at the start of the path!');
    }
  }

  function showNextEdge() {
    if (edgeIndex < nodes.length - 1) {
      const from = nodes[edgeIndex];
      const to = nodes[edgeIndex + 1];

      const edge = L.polyline([
        [from.lat, from.lon],
        [to.lat, to.lon]
      ], {
        color: 'red',
        weight: 4
      }).addTo(map);

      edges.push(edge);

      currentNodeMarker.setLatLng([to.lat, to.lon]);

      edgeIndex++;
    } else {
      alert('Ende des Pfades erreicht.');
    }
  }
</script>

</body>
</html>
